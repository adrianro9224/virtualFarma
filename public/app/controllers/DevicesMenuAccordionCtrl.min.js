farmapp.controller("DevicesMenuAccordionCtrl",["$scope","$rootScope","$http","$filter","$log","$rootScope","ConstantsService",function(e,o,t,n,r,o,a){function s(){var e=$(window).scrollTop(),t=$("#sticky-anchor").offset().top;e>t?($("#search-nav").addClass("stick"),o.$broadcast("IS_STICKY")):($("#search-nav").removeClass("stick"),o.$broadcast("NO_STICKY"))}function c(o){if(o.searchInfo.textToSearch.length>2){var t=n("filter")(o.products,o.searchInfo.textToSearch,void 0);if(t.length>0){var r=11;e.results=t.length>r?t.slice(0,r):t}else e.results=!1}else e.results=!1}function l(n){e.productsCharged=!1,t.get("http://virtualfarma.com.co/product/all_products_for_search_input").success(function(t){if("NULL"!=r){var r=angular.fromJson(t);e.productsCharged=!0,e.products=r;var s={};s.products=r,s.searchInfo=n,o.$broadcast(a.PRODUCTS_CHARGED,s)}else console.info(t+":(")}).error(function(e){console.info(e+":(")})}e.oneAtATime=!0,e.menuStatus=!1,e.activeMenu=function(){e.menuStatus=e.menuStatus?!1:!0},o.$on("IS_STICKY",function(){var e=document.getElementById("normal-logo");angular.element(e).addClass("hidden");var o=document.getElementById("logo-for-sticky");angular.element(o).removeClass("hidden");var t=document.getElementById("primary-nav");angular.element(t).addClass("no-margin")}),o.$on("NO_STICKY",function(){var e=document.getElementById("normal-logo");angular.element(e).removeClass("hidden");var o=document.getElementById("logo-for-sticky");angular.element(o).addClass("hidden");var t=document.getElementById("primary-nav");angular.element(t).removeClass("no-margin")}),$(function(){$(window).scroll(s),s()}),e.search=function(o,t){if(void 0!=o&&t){var n={textToSearch:o,inputStatus:t};if(r.info(n),void 0==e.products)l(n);else{var a={searchInfo:n,products:e.products};c(a)}e.searching=!0}else e.searching=!1},o.$on(a.PRODUCTS_CHARGED,function(e,o){r.info(o)})}]);