farmapp.controller("MessageCtrl",["$scope","$window","$http","$location","$rootScope","$timeout",function(e,n,t,a,o){"use strict";function s(e){var n=document.getElementById("message_"+e);angular.element(n).removeClass("hidden")}function c(e){var n=document.getElementById("icon-message-"+e);angular.element(n).removeClass("glyphicon"),angular.element(n).removeClass("glyphicon-envelope"),angular.element(n).addClass("glyphicon"),angular.element(n).addClass("glyphicon glyphicon-ok")}e.open=!1,e.sentActived=!1,e.receivedActived=!0,e.openCreateMessage=function(){e.open=e.open?!1:!0},e.closeMessage=function(e){var n=document.getElementById("message_"+e);angular.element(n).addClass("hidden")},e.openMessageSingle=function(e){s(e)},e.openMessage=function(e,n){t.get("http://virtualfarma.com.co/message/mark_as_read/"+e+"/"+n+"/").success(function(){o.$broadcast("MESSAGE_READED"),s(e),c(e)}).error(function(e){console.info(e+":(")})},e.deleteMessage=function(e,a,s){t.get("http://virtualfarma.com.co/message/mark_as_delete/"+e+"/"+a+"/"+s+"/").success(function(){o.$broadcast("MESSAGE_DELETED");var t=document.getElementById("tr-"+e);angular.element(t).addClass("hidden"),n.location.reload()}).error(function(e){console.info(e+":(")})},e.activeReceivedMessages=function(){e.receivedActived=!0,e.sentActived=!1},e.activeSentMessages=function(){e.sentActived=!0,e.receivedActived=!1}}]);